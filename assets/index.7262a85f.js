import{a as h,j as g,r as c,F as N,b as I,c as S,R as w,d as j}from"./vendor.845dac90.js";const _=function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))u(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&u(i)}).observe(document,{childList:!0,subtree:!0});function p(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(e){if(e.ep)return;e.ep=!0;const r=p(e);fetch(e.href,r)}};_();const v=h.create({baseURL:"https://servicodados.ibge.gov.br/api/v1/localidades/estados"}),b=h.create({baseURL:"https://api.openweathermap.org/data/2.5/"});h.create({baseURL:"http://api.weatherbit.io/v2.0/"});var E="/assets/cloud.72dca661.png",F="/assets/800.fbeaefad.png",$="/assets/thunderstorm.4dc39866.png",R="/assets/cloudy.ee7cd813.png",W="/assets/snow.a3acabbe.png",k="/assets/rain.3ffe5113.png",B="/assets/fog.2cf580b8.png";function M(a){if(a>=803&&a<=804)return E;if(a===800)return F;if(a>=200&&a<=233)return $;if(a>=801&&a<=802)return R;if(a>=600&&a<=623)return W;if(a>=300&&a<=522)return k;if(a>=700&&a<=751)return B}var O="/assets/celsius.8924fdb5.png";const s=g.exports.jsx,o=g.exports.jsxs;function U(){const[a,d]=c.exports.useState([]),[p,u]=c.exports.useState(),[e,r]=c.exports.useState(),[i,m]=c.exports.useState(),[l,x]=c.exports.useState(),[n,f]=c.exports.useState();c.exports.useEffect(()=>{v.get("").then(t=>{d(t.data)})},[]),c.exports.useEffect(()=>{!e||v.get(`/${e==null?void 0:e.sigla}/municipios`).then(t=>{u(t.data)})},[e]),c.exports.useEffect(()=>{b.get(`weather?lat=${l==null?void 0:l.latitude}&lon=${l==null?void 0:l.longitude}&appid=5378f5a88d7238fba69e32d0b95912c9&lang=pt_br`).then(t=>{console.log(t.data),f(t.data),m({nome:t.data.name,id:t.data.id})})},[l]);async function y(){navigator.geolocation.getCurrentPosition(t=>{x(t.coords),console.log(t.coords)})}async function C(){b.get(`weather?q=${i==null?void 0:i.nome.toLocaleLowerCase()},${e==null?void 0:e.sigla.toLocaleLowerCase()},BR&appid=5378f5a88d7238fba69e32d0b95912c9&lang=pt_br`).then(t=>{f(t.data),console.log(t.data)})}function L(t){if(t)return(t-273.15).toFixed(0)}return o("div",{className:"weatherAppWrapper",children:[o("main",{className:"mainWrapper",children:[o("h1",{className:"mainTitle",children:["Veja a previs\xE3o do tempo ",s("br",{}),"facilmente"]}),o("div",{className:"citySelection",children:[o("div",{children:[s("h2",{children:"Unidade Federativa"}),o("select",{children:[s("option",{children:" "}),a.map(t=>s("option",{onClick:()=>{f(void 0),r(t)},value:t.sigla,children:t.sigla},t.id))]})]}),o("div",{children:[s("h2",{children:"Cidade"}),o("select",{children:[s("option",{children:" "}),p?p.map(t=>s("option",{onClick:()=>{f(void 0),m(t)},value:t.nome,children:t.nome},t.id)):null]})]})]}),o("button",{className:"button-app",onClick:C,children:[" ",s(N,{})," Buscar"]})]}),o("aside",{className:"asideWrapper",children:[n?s("img",{src:M(n.weather[0].id),alt:""}):s("img",{src:O,alt:""}),o("strong",{children:[" ",L(n==null?void 0:n.main.temp)," ",n&&"C\xB0"," "]}),s("span",{className:"weatherDescription",children:n==null?void 0:n.weather[0].description}),o("div",{className:"location",children:[n&&s(I,{}),n&&(e==null?void 0:e.sigla)&&`${e==null?void 0:e.sigla},`," ",n&&(i==null?void 0:i.nome)]}),!n&&o("button",{onClick:y,className:"button-app",children:[s(S,{}),"Coordenadas"]})]})]})}w.render(s(j.StrictMode,{children:s(U,{})}),document.getElementById("root"));
